================================================================================
INSTA-PROSPECT HYBRID ENGINE v3.1 - GUÍA DE DESPLIEGUE EN SHARED HOSTING
================================================================================

Esta guía está diseñada para desplegar la aplicación en proveedores de Shared Hosting
que soporten Node.js (ej: cPanel con "Setup Node.js App", Hostinger, Namecheap, etc.).

--------------------------------------------------------------------------------
FASE 1: PREPARACIÓN LOCAL (En tu PC)
--------------------------------------------------------------------------------

1. Configuración de Entorno:
   Asegúrate de tener un archivo `.env` en la raíz del proyecto con tu clave API:
   
   API_KEY=tu_clave_gemini_aqui

2. Construcción (Build):
   Necesitamos compilar el Frontend de React en archivos estáticos.
   Abre tu terminal en la carpeta del proyecto y ejecuta:
   
   $ npm install
   $ npm run build

   Esto creará una carpeta llamada `dist`. Esta carpeta contiene la interfaz visual
   que el servidor Node.js entregará al navegador.

3. Preparar Archivos para Subir:
   Crea un archivo ZIP que contenga SOLO los siguientes archivos/carpetas:
   
   - dist/          (La carpeta completa que acabas de generar)
   - services/      (Código fuente necesario para el backend)
   - types.ts       (Definiciones de tipos)
   - package.json   (Lista de dependencias)
   - server.js      (El archivo principal del servidor)
   - worker.js      (Opcional, si usarás el worker en segundo plano)
   - .env           (Tu archivo de variables de entorno)

   NO incluyas `node_modules` en el ZIP. Lo instalaremos en el servidor.

--------------------------------------------------------------------------------
FASE 2: CONFIGURACIÓN EN CPANEL (Shared Hosting)
--------------------------------------------------------------------------------

1. Accede a cPanel y busca la opción "Setup Node.js App" (o "Node.js Selector").

2. Crear Aplicación:
   - Node.js Version: Selecciona la versión 18.x o 20.x (Recomendado 20).
   - Application Mode: "Production".
   - Application Root: Escribe la ruta, ej: `lead-master`.
   - Application URL: Selecciona tu dominio/subdominio.
   - Application Startup File: Escribe `server.js`.
   - Clic en "CREATE".

3. Subir Archivos:
   - Entra al "File Manager" de cPanel.
   - Navega a la carpeta que se creó (ej: `/home/usuario/lead-master`).
   - Sube tu archivo ZIP y extráelo ahí.
   - Asegúrate de que `server.js` y la carpeta `dist` estén en la raíz de esa carpeta.

4. Instalar Dependencias:
   - Vuelve a la pantalla de "Setup Node.js App".
   - Deberías ver un botón que dice "Run NPM Install". Haz clic en él.
   - Esto instalará las librerías necesarias en el servidor.
   
   *NOTA SOBRE PUPPETEER:* 
   En Shared Hosting, Puppeteer intenta descargar Chromium. A veces falla por espacio.
   Si falla, es posible que necesites crear un archivo `.npmrc` en la raíz con:
   `puppeteer_skip_chromium_download=true`
   Y usar una ruta a un Chrome instalado en el sistema (si el hosting lo permite),
   pero la configuración actual intenta descargarlo localmente.

5. Reiniciar App:
   - Una vez instaladas las dependencias, haz clic en "RESTART" en la configuración de Node.js.

--------------------------------------------------------------------------------
FASE 3: VERIFICACIÓN Y SOLUCIÓN DE PROBLEMAS
--------------------------------------------------------------------------------

1. Accede a tu URL. Deberías ver la aplicación cargando.
   Si ves una pantalla en blanco:
   - Abre la consola del navegador (F12).
   - Si hay errores 404 en archivos .js/.css, verifica que `vite.config.ts` tenga `base: './'`.

2. Si el Scraper falla (Error 500 al buscar):
   - Puppeteer requiere librerías del sistema operativo (libX11, etc.) que a veces
     NO están instaladas en Shared Hosting barato.
   - Revisa el archivo `stderr.log` en la carpeta de tu aplicación en el File Manager.
   - Si el error menciona "Missing libraries", contacta a soporte de tu hosting
     o considera migrar a un VPS (DigitalOcean, Vultr, Railway) donde Puppeteer
     corre sin restricciones.

3. Base de Datos (Opcional):
   - Si usas la funcionalidad de MySQL, crea la base de datos en cPanel -> "MySQL Databases".
   - Actualiza tu archivo `.env` en el File Manager con las credenciales:
     DB_HOST=localhost
     DB_USER=tu_usuario_cpanel
     DB_NAME=tu_base_datos
     DB_PASS=tu_password

================================================================================
Generated by Lead Master AI Architect v3.1
================================================================================